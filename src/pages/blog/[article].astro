---
import { getCollection } from "astro:content";

export async function getStaticPaths() {
    const articles = (await getCollection("articles")).sort((lhs,rhs) => lhs.data.publishedAt.valueOf() - rhs.data.publishedAt.valueOf());
    return articles.map((article, _idx) => {
        return {
            params: { article: article.slug },
            props: { article, //previous: articles[idx-1], next: articles[idx + 1] 
                },
        };
    })
}

// TODO: make a next or previous article button component

const { article } = Astro.props
const { Content } = await article.render()
---
<h1>{article.data.title}</h1>
{!!article.data.subtitle && <h2>{article.data.subtitle}</h2> }
<Content/>